/*!
 *  build: vue-admin-better 
 *  vue-admin-beautiful.com 
 *  https://gitee.com/chu1204505056/vue-admin-better 
 *  time: 2023-12-21 20:49:25
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-214bdd1a"],{1936:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.searchable?a("ProfileSearch",{on:{handleProfileSearch:e.onProfileSearch}}):e._e(),a("AlbumContainer",{attrs:{items:e.profiles.data,total:e.profiles.totalCnt,title:e.profiles.title,busy:e.profiles.loading,finished:e.profiles.finished},on:{albumClick:e.onRouteJump,load:e.onLoad}})],1)},l=[],i=a("41cf"),n=a("7f87"),s=a("44cc"),r={name:"ProfileList",components:{ProfileSearch:s["default"],AlbumContainer:i["default"]},directives:{},props:{query:{type:Object,default:null,required:!1}},data:function(){return{profiles:{title:"Profile List",loading:!1,finished:!1,checkedId:-1,checkedIndex:-1,totalCnt:0,links:null,curCnt:0,data:[],queryForm:{page:1,size:50,confirmed:1,asserts__face_cnt__gt:0,ordering:"id"}},searchable:!0}},watch:{},created(){},mounted(){this.profiles.queryForm.page=1,this.fetchProfile()},methods:{onRouteJump(e,t){console.log("recieved the child component value %d,%o",e,t),this.profiles.checkedIndex=e,this.profiles.checkedId=t.id||0,this.$router.push({name:"ProfileDetail",query:{id:t.id,title:t.name}})},async fetchProfile(){console.log("ProfileList: fetchProfile"),this.profiles.loading=!0,this.profiles.finished=!1,await Object(n["getProfile"])(this.profiles.queryForm).then(e=>{console.log("getProfileChangeAvatar",e);const{data:t,totalCnt:a,links:o}=e;this.profiles.data=[...this.profiles.data,...t],this.profiles.curCnt=this.profiles.data.length,this.profiles.totalCnt=a,this.profiles.links=o,null===this.profiles.links.next&&(this.profiles.finished=!0),this.$emit("profileData",this.profiles.data)}),setTimeout(()=>{this.profiles.loading=!1},300)},onLoad(){console.log("ProfileList: onLoad"),this.profiles.loading=!0,this.profiles.finished?setTimeout(()=>{this.profiles.loading=!1},3e3):(this.profiles.queryForm.page++,this.fetchProfile())},onProfileSearch(e){console.log("recieve the queryForm info from the search component"),console.log(e),this.profiles.queryForm=e,this.profiles.totalCnt=0,this.profiles.data=[],this.fetchProfile()}}},c=r,d=a("2877"),u=Object(d["a"])(c,o,l,!1,null,null,null);t["default"]=u.exports},"1d01":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-transfer",{attrs:{filterable:"",titles:["Persons",e.relationName],data:e.profileList},model:{value:e.SelectedId,callback:function(t){e.SelectedId=t},expression:"SelectedId"}},[a("el-select",{attrs:{slot:"left-footer",filterable:"",clearable:"",placeholder:"请选择"},on:{change:e.onChange},slot:"left-footer",model:{value:e.relationValue,callback:function(t){e.relationValue=t},expression:"relationValue"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{staticClass:"transfer-footer",attrs:{slot:"right-footer",type:"primary",size:"small",icon:"el-icon-finished"},on:{click:e.addRelation},slot:"right-footer"},[e._v(" Submit ")]),a("el-button",{staticClass:"transfer-footer",attrs:{slot:"right-footer",type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.delRelation},slot:"right-footer"},[e._v(" Delete ")])],1)],1)},l=[],i=(a("41cf"),a("4360")),n=a("bc3a"),s=a.n(n),r=a("f121"),c={name:"RelationProfile",components:{},directives:{},props:{profiles:{type:Array,default:()=>Array(40).fill({}),required:!0}},data(){const e=["我","妻子","丈夫","儿子","女儿","爸爸","妈妈","爷爷","奶奶","外公","外婆","家人","哥哥","姐姐","弟弟","妹妹","亲戚","男朋友","女朋友","同事","朋友","同学","闺蜜","客户","供应商","合作伙伴","其他"],t=e.map((e,t)=>({value:t,label:e}));return{SelectedId:[],relationValue:"",relationName:"",relationForm:[],options:t,profileList:[]}},watch:{profiles(e,t){console.log("Album.content: Album numbers have been changed",e.length,this.total,this.msg),this.genPersonList(e)}},created(){console.log("Relation: created")},mounted(){console.log("Relation: mounted",this.profiles)},activated(){console.log("Relation: activated")},deactivated(){console.log("Relation: deactivated")},methods:{onChange(e){console.log("Relation: onChange",e),this.relationName=this.options.find(t=>t.value===e).label,console.log("Relation: onChange",this.relationName),this.SelectedId=[],this.relationForm=[]},genPersonList(e){this.profileList=[];for(let t=0;t<e.length;t++)this.profileList.push({key:e[t].id,label:e[t].name})},creatFormData(){if(""===this.relationValue)return void this.$message({message:"请选择关系",type:"warning"});const e=i["default"].getters["user/id"];console.log("Relation: onSubmit->SelectedId and userId are: ",this.SelectedId,e),console.log("Relation: onSubmit",this.relationValue,this.relationName);for(let t=0;t<this.SelectedId.length;t++){const a=this.SelectedId[t],o=e,l=this.relationValue;this.relationForm.push({re_from:a,re_to:o,relation:l})}},async addRelation(){console.log("Relation: addRelation",this.relationForm),this.creatFormData(),await s.a.post(r["baseURL"]+"/api/recontact/",this.relationForm,{headers:{"Content-Type":"application/json"}}).then(e=>{console.log("Response:",e.data),this.$message({message:"Successed binding the relation!",type:"success"}),this.SelectedId=[],this.relationForm=[]}).catch(e=>{console.error("Error:",e),this.$message({message:e,type:"error"}),this.SelectedId=[],this.relationForm=[]})},async delRelation(){console.log("Relation: addRelation",this.relationForm),this.creatFormData(),await s.a.delete(r["baseURL"]+"/api/recontact/",this.relationForm,{headers:{"Content-Type":"application/json"}}).then(e=>{console.log("Response:",e.data)}).catch(e=>{console.error("Error:",e)})}}},d=c,u=a("2877"),f=Object(u["a"])(d,o,l,!1,null,null,null);t["default"]=f.exports},2821:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Profiles",name:"profiles"}},["profiles"===e.activeName?a("ProfileList"):e._e()],1),a("el-tab-pane",{attrs:{label:"Groups",name:"groups"}},["groups"===e.activeName?a("GroupList"):e._e()],1),a("el-tab-pane",{attrs:{label:"Faces",name:"faces"}},["faces"===e.activeName?a("FaceList"):e._e()],1),a("el-tab-pane",{attrs:{label:"FacesGallery",name:"faces-gallery"}},["faces-gallery"===e.activeName?a("FaceListGallery"):e._e()],1),a("el-tab-pane",{attrs:{label:"Relation",name:"relation"}},["relation"===e.activeName?a("Relation"):e._e()],1)],1)],1)},l=[],i=a("1936"),n=a("bcc9"),s=a("f5d0"),r=a("71d9"),c=a("cea45"),d={name:"Face",components:{ProfileList:i["default"],GroupList:n["default"],FaceList:s["default"],FaceListGallery:r["default"],Relation:c["default"]},directives:{},data:function(){return{activeName:"profiles"}},watch:{},created(){},mounted(){},methods:{handleClick(e,t){console.log(e,t)}}},u=d,f=a("2877"),h=Object(f["a"])(u,o,l,!1,null,null,null);t["default"]=h.exports},"44cc":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-container"},[a("el-input",{attrs:{clearable:"",placeholder:"Please input what you want"},on:{change:e.onSearch},model:{value:e.profileQuery.search,callback:function(t){e.$set(e.profileQuery,"search",t)},expression:"profileQuery.search"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},on:{click:e.advancedSearch},slot:"prefix"}),a("el-dropdown",{attrs:{slot:"append",icon:"el-icon-delete"},on:{command:e.handleCommand},slot:"append"},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-menu el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"edit"}},[a("i",{staticClass:"el-icon-edit"}),e._v(" Edit ")]),a("el-dropdown-item",{attrs:{command:"view"}},[a("i",{staticClass:"el-icon-view"}),e._v(" View ")]),a("el-dropdown-item",{attrs:{command:"delete"}},[a("i",{staticClass:"el-icon-delete"}),e._v(" Reset ")]),a("el-dropdown-item",{attrs:{command:"setting"}},[a("i",{staticClass:"el-icon-setting"}),e._v(" Setting ")])],1)],1)],1),e.advanced?a("div",{staticClass:"advancedSearch"},[a("el-select",{attrs:{clearable:"",filterable:"","default-first-option":"",placeholder:"Is Confirmed?",loading:e.loading},on:{change:e.onSearch},model:{value:e.profileQuery.confirmed,callback:function(t){e.$set(e.profileQuery,"confirmed",t)},expression:"profileQuery.confirmed"}},e._l(e.filterList.confirmed,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.value,disabled:!1}},[a("span",{staticStyle:{float:"left",color:"#8492a6"}},[e._v(e._s(t.name))])])})),1),a("el-select",{attrs:{clearable:"",filterable:"","default-first-option":"",placeholder:"Relation to Me",loading:e.loading},on:{change:e.onSearch},model:{value:e.profileQuery.relation,callback:function(t){e.$set(e.profileQuery,"relation",t)},expression:"profileQuery.relation"}},e._l(e.filterList.relation,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t,disabled:!1}},[a("span",{staticStyle:{float:"left",color:"#8492a6"}},[e._v(e._s(t))])])})),1),a("el-select",{attrs:{clearable:"",filterable:"","default-first-option":"",placeholder:"Friend Name",loading:e.loading},on:{change:e.onSearch},model:{value:e.profileQuery.name,callback:function(t){e.$set(e.profileQuery,"name",t)},expression:"profileQuery.name"}},e._l(e.filterList.name,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.name,disabled:!1}},[a("span",{staticStyle:{float:"left",color:"#8492a6"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(" "+e._s(t.value)+" ")])])})),1),a("el-select",{attrs:{clearable:"",filterable:"","default-first-option":"",placeholder:"Defined a Relation?",loading:e.loading},on:{change:e.onSearch},model:{value:e.profileQuery.re_from_relations__isnull,callback:function(t){e.$set(e.profileQuery,"re_from_relations__isnull",t)},expression:"profileQuery.re_from_relations__isnull"}},e._l(e.filterList.re_from_relations__isnull,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.value,disabled:!1}},[a("span",{staticStyle:{float:"left",color:"#8492a6"}},[e._v(e._s(t.name))])])})),1),a("el-select",{attrs:{clearable:"",filterable:"","default-first-option":"",placeholder:"Has Related Face?",loading:e.loading},on:{change:e.onSearch},model:{value:e.profileQuery.faces__isnull,callback:function(t){e.$set(e.profileQuery,"faces__isnull",t)},expression:"profileQuery.faces__isnull"}},e._l(e.filterList.faces__isnull,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.value,disabled:!1}},[a("span",{staticStyle:{float:"left",color:"#8492a6"}},[e._v(e._s(t.name))])])})),1),a("el-select",{attrs:{clearable:"",filterable:"","default-first-option":"",placeholder:"Worked in Related Company?",loading:e.loading},on:{change:e.onSearch},model:{value:e.profileQuery.companies__isnull,callback:function(t){e.$set(e.profileQuery,"companies__isnull",t)},expression:"profileQuery.companies__isnull"}},e._l(e.filterList.companies__isnull,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.value,disabled:!1}},[a("span",{staticStyle:{float:"left",color:"#8492a6"}},[e._v(e._s(t.name))])])})),1),a("el-select",{attrs:{clearable:"",filterable:"","default-first-option":"",placeholder:"Company Name",loading:e.loading},on:{change:e.onSearch},model:{value:e.profileQuery.companies__name,callback:function(t){e.$set(e.profileQuery,"companies__name",t)},expression:"profileQuery.companies__name"}},e._l(e.filterList.companies__name,(function(t){return a("el-option",{key:t.name,attrs:{label:t.name,value:t.value,disabled:!1}},[a("span",{staticStyle:{float:"left",color:"#8492a6"}},[e._v(e._s(t.name))])])})),1)],1):e._e()],1)},l=[],i=a("7f87"),n={name:"ProfileSearch",components:{},props:{filteredList:{type:Object,default:function(){return{face_color:["skin","black","grey","blue","light grey"],fore_color:["light brown","beige","light blue"],back_color:["black","blue","light grey"]}},required:!1}},data(){return{profileQuery:{page:1,size:50,confirmed:1,search:"",re_from_relations__isnull:"",re_to_relations__isnull:"",re_to_relations__relation:"",profile:"",relation:"",companies__name:"",companies__isnull:"",faces__isnull:""},filterList:{confirmed:[{name:"Unconfirmed",value:0},{name:"Confirmed",value:1}],profile__name:[],profile__isnull:[{name:"Has Related Profile",value:0},{name:"No Related Profile",value:1}],det_score__gt:[.9,.8,.7,.6,.5],det_score__lt:[.4,.5,.6,.7,.8],face_score__gt:[.9,.8,.7,.6,.5],face_score__lt:[.4,.5,.6,.7,.8],gender:[{name:"Female",value:0},{name:"Male",value:1}],pose_x__gt:[-20,-10,0,10,20],pose_x__lt:[-20,-10,0,10,20],pose_y__gt:[-20,-10,0,10,20],pose_y__lt:[-20,-10,0,10,20],pose_z__gt:[-20,-10,0,10,20],pose_z__lt:[-20,-10,0,10,20],wid__gt:[1e3,800,600,400,200],wid__lt:[1e3,800,600,400,200],state:[{name:"Normal",value:0},{name:"Forbidden",value:1},{name:"Deleted",value:9}],relation:[]},loading:!1,advanced:!1}},watch:{},created(){},mounted(){this.fetchCategory()},methods:{onSearch(){this.profileQuery.page=1;let e=Object.assign({},this.profileQuery);for(let t in this.profileQuery)Array.isArray(this.profileQuery[t])&&(e[t]=this.profileQuery[t].toString());console.log("onCateSearch",this.profileQuery,e),this.$emit("handleProfileSearch",e),this.fetchCategory(e)},onCateSearch(e){this.profileQuery.page=1;let t=Object.assign({},this.profileQuery);t.categories__name=e,this.$emit("handleProfileSearch",t),this.fetchCategory(t)},async fetchCategory(e){console.log("start to get the Category list...");const{data:t}=await Object(i["getFilterList"])(e);this.filterList=t,console.log("this.filterList",this.filterList,t)},reset_search(){console.log(this.$data),console.log(this.$options.data()),Object.assign(this.$data,this.$options.data()),this.fetchCategory(),this.onSearch()},advancedSearch(){console.log("advancedSearch"),this.advanced=!this.advanced},handleCommand(e){this.$message("click on item "+e),"reset"===e?this.reset_search():this.$emit(e)}}},s=n,r=a("2877"),c=Object(r["a"])(s,o,l,!1,null,"fd1eee92",null);t["default"]=c.exports},a597:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-transfer",{attrs:{filterable:"",titles:["Persons",e.relationName],data:e.profileList},on:{change:e.onTransferChange},model:{value:e.SelectedId,callback:function(t){e.SelectedId=t},expression:"SelectedId"}},[a("el-select",{attrs:{slot:"left-footer",filterable:"",clearable:"",placeholder:"请选择"},on:{change:e.onChange},slot:"left-footer",model:{value:e.relationValue,callback:function(t){e.relationValue=t},expression:"relationValue"}},e._l(e.companyList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{staticClass:"transfer-footer",attrs:{slot:"right-footer",type:"primary",size:"small",icon:"el-icon-finished"},on:{click:e.addRelation},slot:"right-footer"},[e._v(" Submit ")]),a("el-button",{staticClass:"transfer-footer",attrs:{slot:"right-footer",type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.delRelation},slot:"right-footer"},[e._v(" Delete ")])],1)],1)},l=[],i=(a("41cf"),a("4360")),n=a("bc3a"),s=a.n(n),r=a("f121"),c=a("fcac"),d={name:"RelationCompany",components:{},directives:{},props:{profiles:{type:Array,default:()=>Array(40).fill({}),required:!0}},data(){return{SelectedId:[],relationValue:"",relationName:"",relationForm:[],profileList:[],companyList:[],Companies:{title:"Company List",loading:!1,finished:!1,checkedId:-1,checkedIndex:-1,totalCnt:0,links:null,curCnt:0,data:[],queryForm:{page:1,size:30}}}},watch:{profiles(e,t){console.log("Album.content: Album numbers have been changed",e.length,this.total,this.msg),this.genPersonList(e)}},created(){console.log("Relation: created")},mounted(){console.log("Relation: mounted",this.profiles),this.fetchCompany()},activated(){console.log("Relation: activated")},deactivated(){console.log("Relation: deactivated")},methods:{onChange(e){console.log("Relation: onChange",e),this.relationName=this.companyList.find(t=>t.value===e).label,console.log("Relation: onChange",this.relationName),this.SelectedId=[],this.relationForm=[]},genPersonList(e){this.profileList=[];for(let t=0;t<e.length;t++)this.profileList.push({key:e[t].id,label:e[t].name})},genCompanyList(e){this.companyList=[];for(let t=0;t<e.length;t++)this.companyList.push({key:e[t].id,label:e[t].name,value:e[t].id});console.log("Relation: genCompanyList",this.companyList)},creatFormData(){if(""===this.relationValue)return void this.$message({message:"请选择关系",type:"warning"});const e=i["default"].getters["user/id"];console.log("Relation: onSubmit->SelectedId and userId are: ",this.SelectedId,e),console.log("Relation: onSubmit",this.relationValue,this.relationName);for(let t=0;t<this.SelectedId.length;t++){const e=this.SelectedId[t],a=this.relationValue,o="worked in";this.relationForm.push({profile:e,company:a,name:o})}},async addRelation(){console.log("Relation: addRelation",this.relationForm),this.creatFormData(),await s.a.post(r["baseURL"]+"/api/experience/",this.relationForm,{headers:{"Content-Type":"application/json"}}).then(e=>{console.log("Response:",e.data),this.$message({message:"Successed binding the relation!",type:"success"}),this.SelectedId=[],this.relationForm=[]}).catch(e=>{console.error("Error:",e),this.$message({message:e,type:"error"}),this.SelectedId=[],this.relationForm=[]})},async delRelation(){console.log("Relation: addRelation",this.relationForm),this.creatFormData(),await s.a.delete(r["baseURL"]+"/api/recontact/",this.relationForm,{headers:{"Content-Type":"application/json"}}).then(e=>{console.log("Response:",e.data)}).catch(e=>{console.error("Error:",e)})},async fetchCompany(){console.log("CompanyList: fetchCompany"),this.Companies.loading=!0,this.Companies.finished=!1,await Object(c["getCompany"])(this.Companies.queryForm).then(e=>{console.log("getCompaniesChangeAvatar",e);const{data:t,totalCnt:a,links:o}=e;this.Companies.data=[...this.Companies.data,...t],this.Companies.curCnt=this.Companies.data.length,this.Companies.totalCnt=a,this.Companies.links=o,this.genCompanyList(this.Companies.data),null===this.Companies.links.next&&(this.Companies.finished=!0),this.$emit("companyData",this.Companies.data)}),setTimeout(()=>{this.Companies.loading=!1},300)},onTransferChange(){console.log("transfer on change",this.SelectedId)}}},u=d,f=a("2877"),h=Object(f["a"])(u,o,l,!1,null,null,null);t["default"]=h.exports},bcc9:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("AlbumContainer",{attrs:{items:e.groups.data,total:e.groups.totalCnt,title:e.groups.title,busy:e.groups.loading,finished:e.groups.finished},on:{albumClick:e.onRouteJump,load:e.onLoad}})],1)},l=[],i=a("41cf"),n=a("c405"),s={name:"GroupList",components:{AlbumContainer:i["default"]},directives:{},props:{query:{type:Object,default:null,required:!1}},data:function(){return{groups:{title:"Profile List",loading:!1,finished:!1,checkedId:-1,checkedIndex:-1,totalCnt:0,links:null,curCnt:0,data:[],queryForm:{page:1,size:30,name:"",parent__name:"group"}}}},watch:{},created(){},mounted(){this.groups.queryForm.page=1,this.fetchGroup()},methods:{onRouteJump(e,t){console.log("recieved the child component value %d,%o",e,t),this.groups.checkedIndex=e,this.groups.checkedId=t.id||0,this.$router.push({name:"GroupDetail",query:{id:t.id,title:t.name}})},async fetchGroup(){console.log("GroupList: fetchGroup"),this.groups.loading=!0,this.groups.finished=!1,await Object(n["getCategory"])(this.groups.queryForm).then(e=>{console.log("GroupList: ",e);const{data:t,totalCnt:a,links:o}=e;this.groups.data=[...this.groups.data,...t],this.groups.curCnt=this.groups.data.length,this.groups.totalCnt=this.groups.data.length,this.groups.links=o,null===this.groups.links.next&&(this.groups.finished=!0),this.$emit("groupData",this.groups.data),setTimeout(()=>{this.groups.loading=!1},300)})},onLoad(){console.log("GroupList: onLoad"),this.groups.loading=!0,this.groups.finished?setTimeout(()=>{this.groups.loading=!1},3e3):(this.groups.queryForm.page++,this.fetchGroup())}}},r=s,c=a("2877"),d=Object(c["a"])(r,o,l,!1,null,null,null);t["default"]=d.exports},c405:function(e,t,a){"use strict";a.r(t),a.d(t,"getCategory",(function(){return l})),a.d(t,"getCategoryDetail",(function(){return i}));var o=a("b775");function l(e){return console.log(e),Object(o["default"])({url:"/api/category/",method:"get",params:e})}function i(e){return console.log(e),Object(o["default"])({url:"/api/category/"+e+"/",method:"get"})}},cea45:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.searchable?a("ProfileSearch",{on:{handleProfileSearch:e.onProfileSearch}}):e._e(),a("RelationProfile",{attrs:{profiles:e.profiles.data}}),a("RelationCompany",{attrs:{profiles:e.profiles.data}}),a("AlbumContainer",{attrs:{items:e.profiles.data,total:e.profiles.totalCnt,title:e.profiles.title,busy:e.profiles.loading,finished:e.profiles.finished},on:{albumClick:e.onRouteJump,load:e.onLoad}})],1)},l=[],i=a("41cf"),n=a("7f87"),s=a("44cc"),r=a("1d01"),c=a("fcac"),d=a("a597"),u={name:"Relation",components:{AlbumContainer:i["default"],ProfileSearch:s["default"],RelationProfile:r["default"],RelationCompany:d["default"]},directives:{},props:{},data(){return{profiles:{title:"Profile List",loading:!1,finished:!1,checkedId:-1,checkedIndex:-1,totalCnt:0,links:null,curCnt:0,data:[],queryForm:{page:1,size:30,confirmed:1}},Companies:{title:"Company List",loading:!1,finished:!1,checkedId:-1,checkedIndex:-1,totalCnt:0,links:null,curCnt:0,data:[],queryForm:{page:1,size:30}},searchable:!0}},watch:{},created(){console.log("Relation: created")},mounted(){console.log("Relation: mounted"),this.profiles.queryForm.page=1,this.fetchProfile()},activated(){console.log("Relation: activated")},deactivated(){console.log("Relation: deactivated")},methods:{async fetchProfile(){console.log("ProfileList: fetchProfile"),this.profiles.loading=!0,this.profiles.finished=!1,await Object(n["getProfile"])(this.profiles.queryForm).then(e=>{console.log("getProfileChangeAvatar",e);const{data:t,totalCnt:a,links:o}=e;this.profiles.data=[...this.profiles.data,...t],this.profiles.curCnt=this.profiles.data.length,this.profiles.totalCnt=a,this.profiles.links=o,null===this.profiles.links.next&&(this.profiles.finished=!0),this.$emit("profileData",this.profiles.data)}),setTimeout(()=>{this.profiles.loading=!1},300)},async fetchCompany(){console.log("CompanyList: fetchCompany"),this.Companies.loading=!0,this.Companies.finished=!1,await Object(c["getCompany"])(this.Companies.queryForm).then(e=>{console.log("getCompaniesChangeAvatar",e);const{data:t,totalCnt:a,links:o}=e;this.Companies.data=[...this.Companies.data,...t],this.Companies.curCnt=this.Companies.data.length,this.Companies.totalCnt=a,this.Companies.links=o,null===this.Companies.links.next&&(this.Companies.finished=!0),this.$emit("companyData",this.Companies.data)}),setTimeout(()=>{this.Companies.loading=!1},300)},onRouteJump(e,t){console.log("recieved the child component value %d,%o",e,t)},onLoad(){console.log("ProfileList: onLoad"),this.profiles.loading=!0,this.profiles.finished?setTimeout(()=>{this.profiles.loading=!1},3e3):(this.profiles.queryForm.page++,this.fetchProfile())},onProfileSearch(e){console.log("recieve the queryForm info from the search component"),console.log(e),this.profiles.queryForm=e,this.profiles.totalCnt=0,this.profiles.data=[],this.fetchProfile()}}},f=u,h=a("2877"),p=Object(h["a"])(f,o,l,!1,null,null,null);t["default"]=p.exports},fcac:function(e,t,a){"use strict";a.r(t),a.d(t,"getCompany",(function(){return l})),a.d(t,"getCompanyDetail",(function(){return i})),a.d(t,"patchCompany",(function(){return n})),a.d(t,"getCompanyChangeAvatar",(function(){return s})),a.d(t,"changeFaceAlbumName",(function(){return r})),a.d(t,"clear_face_album",(function(){return c})),a.d(t,"getFilterList",(function(){return d}));var o=a("b775");function l(e){return Object(o["default"])({url:"/api/company/",method:"get",params:e})}function i(e){return Object(o["default"])({url:"/api/company/"+e.id+"/",method:"get",params:e})}function n(e,t){return Object(o["default"])({url:"/api/company/"+t+"/",method:"patch",data:e})}function s(e,t){return Object(o["default"])({url:"/api/company/"+t+"/change_avatar/",method:"get",params:e})}function r(e){return Object(o["default"])({url:"/api/company/"+e.id+"/",method:"put",data:e})}function c(e){return Object(o["default"])({url:"/api/company/clear_face_album/",method:"get"})}function d(e){return Object(o["default"])({url:"/api/company/get_filtered_list/",method:"get",params:e})}}}]);