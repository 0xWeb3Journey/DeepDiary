/*!
 *  build: vue-admin-better 
 *  vue-admin-beautiful.com 
 *  https://gitee.com/chu1204505056/vue-admin-better 
 *  time: 2023-12-21 20:49:25
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18d9098d"],{"0749":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.imgs&&t.imgs.length>0?a("div",{staticClass:"imgs-wrap"},[a("div",{staticClass:"imgs-swiper-wrap"},[a("swiper",{ref:"swiper",staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.imgs,(function(t){return a("swiper-slide",{key:t.id},[a("imgsItem",{attrs:{img:t}})],1)})),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),a("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),a("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)]):t._e()},i=[],n=a("e818"),l=a("7212"),s=(a("a7a3"),{name:"ImgSlide",components:{imgsItem:n["default"],Swiper:l["Swiper"],SwiperSlide:l["SwiperSlide"]},props:{imgs:{type:Array,default:()=>[{id:1,content:"",position:[],offset:[]}]}},data(){return{swiperOption:{slidesPerView:5,breakpoints:{1920:{slidesPerView:6,spaceBetween:10},1600:{slidesPerView:5,spaceBetween:10},1280:{slidesPerView:4,spaceBetween:10},960:{slidesPerView:3,spaceBetween:10},640:{slidesPerView:2,spaceBetween:10},320:{slidesPerView:1,spaceBetween:10}},spaceBetween:10,autoplay:{delay:2500,disableOnInteraction:!1},keyboard:{enabled:!0},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},imgsList:[{id:434,src:"http://localhost:8000/media/blue/img/2021/09/19/IMG_20210919_110530_lAcSgku.jpg",thumb:"http://localhost:8000/media/CACHE/images/blue/img/2021/09/19/IMG_20210919_110530_lAcSgku/161945f6ee4f8c09e9c27f350ce65132.jpg",tags:"people,family,爷爷,奶奶"},{id:433,src:"http://localhost:8000/media/blue/img/2021/02/09/IMG_20210209_160111.jpg",thumb:"http://localhost:8000/media/CACHE/images/blue/img/2021/02/09/IMG_20210209_160111/833e2409837910a3f0c5892336f16d16.jpg",tags:"people,family,susan,blue,导入时间,import date,portrait,person,smile,smiling,happy,nutriment,happiness,together,love,male,man,couple,210321,frozen dessert,dessert,ice lolly",img_url:"http://localhost:8000/api/img/433/",name:"IMG_20210209_160111.jpg"},{id:432,src:"http://localhost:8000/media/blue/img/1970/01/01/eed6ff167af13d6a271c25cc9b6da277.jpeg",thumb:"http://localhost:8000/media/CACHE/images/blue/img/1970/01/01/eed6ff167af13d6a271c25cc9b6da277/350894e8304ef264a3df21c3aa08ca2d.jpeg",tags:"people,attractive,cover girl,adult,pretty,fashion,model,portrait,person,face,hair,eyes,brunette,smasher,cute,happy"},{id:431,src:"http://localhost:8000/media/blue/img/1970/01/01/b1fc6cc28c297f6910f267da332d7fc8.jpeg",thumb:"http://localhost:8000/media/CACHE/images/blue/img/1970/01/01/b1fc6cc28c297f6910f267da332d7fc8/7bb5bfc1d897419122805b02b8a0379e.jpeg",tags:"attractive,adult,pretty,fashion,sexy,model,portrait,person,face,hair,lady,makeup,brunette,skin,lips,cute,saint,abbess,lock,make"},{id:430,src:"http://localhost:8000/media/blue/img/1970/01/01/1310f1459e8cabf0e02cea3fd5960e7d.jpeg",thumb:"http://localhost:8000/media/CACHE/images/blue/img/1970/01/01/1310f1459e8cabf0e02cea3fd5960e7d/c8212dc44d7c29de7843e74580f5cb8b.jpeg",tags:"people,attractive,cover girl,adult,pretty,fashion,sexy,model,portrait,person,face,hair,lady,eyes,makeup,brunette,skin,smasher,lips,blond,cute,smile,human,youth",img_url:"http://localhost:8000/api/img/430/",name:"1310f1459e8cabf0e02cea3fd5960e7d.jpeg"},{id:429,src:"http://localhost:8000/media/blue/img/1970/01/01/9b0581159678d43fb03b5b1aceda1546.jpeg",thumb:"http://localhost:8000/media/CACHE/images/blue/img/1970/01/01/9b0581159678d43fb03b5b1aceda1546/5abb05fcff0be30bbba2abfcc5b18c73.jpeg",tags:"people,attractive,adult,pretty,fashion,model,portrait,person,face,hair,makeup,skin,blond,cute,smile,lifestyle,deity,saint,shoulder,superior,smiling,abbess,happy,care",img_url:"http://localhost:8000/api/img/429/"}]}},watch:{},methods:{}}),c=s,r=(a("0f5f"),a("2877")),p=Object(r["a"])(c,o,i,!1,null,null,null);e["default"]=p.exports},"0f5f":function(t,e,a){"use strict";a("bab3")},"203a":function(t,e,a){"use strict";a.r(e);var o=a("a026"),i=a("544d"),n=a.n(i);a("9466");o["default"].use(n.a),n.a.initAMapApiLoader({key:"966044df467348180e9bc1276a7f7d2f",version:"2.0",plugins:["AMap.Geolocation","AMap.Walking","AMap.MapType","AMap.MarkerCluster","AMap.AutoComplete","AMap.PlaceSearch","AMap.Scale","AMap.OverView","AMap.ToolBar","AMap.PolyEditor","AMap.CircleEditor","AMap.Weather"]}),window._AMapSecurityConfig={securityJsCode:"aa6935254da67f77412663214c4bff37"}},"3de3":function(t,e,a){t.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#21252b"}},"3f91":function(t,e,a){"use strict";a("3de3")},"464c":function(t,e,a){t.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#21252b"}},"63a4":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amap-wrap"},[a("el-amap",{ref:"map",staticClass:"amap-demo",attrs:{vid:"amapContainer",center:t.center,zoom:t.zoom,"view-mode":"2D"},on:{init:t.initMap,click:t.clickMap,complete:t.initMapComplete}},[a("el-amap-control-geolocation",{ref:"location",attrs:{"zoom-to-accuracy":!0,"pan-to-location":!0,convert:!0,position:"LT",offset:[5,5],extensions:"all"},on:{complete:t.getLocation}}),a("el-amap-marker-cluster",{ref:"cluster",attrs:{visible:t.visible,points:t.addrs},on:{init:t.markerInit,click:t.clickMarker}}),a("el-amap-search-box",{ref:"search",attrs:{visible:t.visible},on:{select:t.selectPoi,choose:t.choosePoi}}),a("el-amap-control-map-type"),a("el-amap-control-tool-bar"),a("el-amap-control-scale",{attrs:{visible:t.visible}}),a("el-amap-circle-marker",{attrs:{center:t.poi.location},on:{click:function(e){t.clickpoi(t.poi,e)}}})],1)],1)},i=[],n=(a("203a"),{name:"Map",props:{addrs:{type:Array,default:()=>[{id:1,content:"",position:[],offset:[]}]}},data(){return{center:[116.127808,30.173239],zoom:12,self_lng:"",self_lat:"",circles:[],imgsData:{},imgsInfo:[],visible:!0,points:[{img:419,is_located:!0,country:"中国",province:"浙江省",city:"台州市",district:"临海市",lnglat:[121.517967,28.726881]},{img:405,is_located:!0,country:"中国",province:"浙江省",city:"宁波市",district:"余姚市",lnglat:[121.133333,30.166667]}],auto:null,searchPlaceInput:"",placeSearch:null,poi:{location:[121.127808,30.173239],district:"",name:"",typecode:""}}},watch:{},mounted(){},beforeDestroy(){console.log("beforeDestroy"),this.map.destroy()},methods:{clickMap(t){console.log("click map :",t.lnglat.lng,t.lnglat.lat),this.center=[t.lnglat.lng,t.lnglat.lat],this.poi.location=[t.lnglat.lng,t.lnglat.lat],this.$store.commit("map/setSwiper",!1),console.log(this.$store.state.map.isShowSwiper)},initMap(t){console.log("init map: ",t),this.map=this.$refs.map.$$getInstance()},initMapComplete(){console.log("finish loading the map ");let t=this.$refs.location.$$getInstance();t.getCurrentPosition(this.onLocationComplete),this.$emit("callbackComponent",{function:"loadMap"})},onLocationComplete(t,e){console.log("onLocationComplete: "),"complete"==t?this.onLocationSuccess(e):this.onLocationError(e)},onLocationSuccess(t){var e=[];console.log("=====================onLocationSuccess",t),console.log("getLocation: ",t.position.lat,t.position.lng),e.push("定位结果："+t.position),e.push("定位类别："+t.location_type),t.accuracy&&e.push("精度："+t.accuracy+" 米"),e.push("是否经过偏移："+(t.isConverted?"是":"否")),console.log(e),this.lat=t.position.lat,this.lng=t.position.lng,this.poi.location=[t.position.lng,t.position.lat]},onLocationError(t){var e=[];e.push("失败原因排查信息"+t.message+"</br>浏览器返回信息："+t.originMessage),console.log(e)},getLocation(t){console.log("=====================getLocation",t),console.log("getLocation: ",t.position.lat,t.position.lng),this.lat=t.position.lat,this.lng=t.position.lng},markerInit(t){console.log("marker init: ",t)},clickMarker(t){console.log("marker click: ",t);let e=t.clusterData;if(e.length>0){let t=e.reduce((t,e)=>{let{lnglat:a}=e;return{lngMin:Math.min(t.lngMin,a.lng),lngMax:Math.max(t.lngMax,a.lng),latMin:Math.min(t.latMin,a.lat),latMax:Math.max(t.latMax,a.lat)}},{lngMin:360,lngMax:0,latMin:90,latMax:0});console.log("cluster center:",(t.lngMin+t.lngMax)/2,(t.latMin+t.latMax)/2),console.log("lng range is: ",t.lngMin,t.lngMax),console.log("lat range is: ",t.latMin,t.latMax),this.$store.commit("map/setSwiper",!0),console.log(this.$store.state.map.isShowSwiper);var a=this.$store.state.img.queryForm;console.log("map.vue_clickMarker: imgQuery is: ",a),a.address__longitude__range=`${t.lngMin},${t.lngMax}`,a.address__latitude__range=`${t.latMin},${t.latMax}`,this.$store.commit("img/setQuery",a),this.$emit("callbackComponent",{function:"loadImg",data:a})}},selectPoi(t){console.log("selectPoi: ",t),null!==this.placeSearch&&this.placeSearch.clear(),this.zoom=18,this.center=[t.poi.location.lng,t.poi.location.lat],this.poi.location=[t.poi.location.lng,t.poi.location.lat],this.poi.district=t.poi.district,this.poi.name=t.poi.name,this.poi.typecode=t.poi.typecode},choosePoi(t){console.log("choosePoi: ",t),null===this.placeSearch&&(this.placeSearch=new AMap.PlaceSearch({map:this.map})),this.placeSearch.setCity(t.poi.adcode),this.placeSearch.search(t.poi.name),console.log("PoiList:",this.placeSearch.PoiList)},clickpoi(t){console.log("点击了标号,标号ID： %o",t)}}}),l=n,s=(a("3f91"),a("2877")),c=Object(s["a"])(l,o,i,!1,null,null,null);e["default"]=c.exports},"970f":function(t,e,a){"use strict";a.r(e),a.d(e,"getImg",(function(){return i})),a.d(e,"getImgDetail",(function(){return n})),a.d(e,"getMcs",(function(){return l})),a.d(e,"getTags",(function(){return s})),a.d(e,"getUploadState",(function(){return c})),a.d(e,"getProfile",(function(){return r})),a.d(e,"getProfileDetail",(function(){return p})),a.d(e,"changeFaceAlbumName",(function(){return u})),a.d(e,"clear_face_album",(function(){return d})),a.d(e,"getFace",(function(){return m})),a.d(e,"changeFaceName",(function(){return g})),a.d(e,"getFaceGallery",(function(){return f})),a.d(e,"doEdit",(function(){return h})),a.d(e,"doDelete",(function(){return b})),a.d(e,"upload",(function(){return y})),a.d(e,"getFilterList",(function(){return _})),a.d(e,"getAddress",(function(){return M}));var o=a("b775");function i(t){return Object(o["default"])({url:"/api/img/",method:"get",params:t})}function n(t){return Object(o["default"])({url:"/api/img/"+t+"/",method:"get"})}function l(t){return Object(o["default"])({url:"/api/mcs/"+t.id+"/",method:"get"})}function s(t){return Object(o["default"])({url:"/api/img/"+t.id+" / set_tags/",method:"get"})}function c(t){return Object(o["default"])({url:"/api/img/upload_finished/",method:"get"})}function r(t){return Object(o["default"])({url:"/api/profile/",method:"get",params:t})}function p(t){return Object(o["default"])({url:"/api/profile/"+t.id+"/",method:"get",params:t})}function u(t){return Object(o["default"])({url:"/api/profile/"+t.id+"/",method:"put",data:t})}function d(t){return Object(o["default"])({url:"/api/profile/clear_face_album/",method:"get"})}function m(t){return Object(o["default"])({url:"/api/face/"+t.id+"/",method:"get"})}function g(t){return Object(o["default"])({url:"/api/face/"+t.id+"/",method:"put",data:t})}function f(t){return console.log(t),Object(o["default"])({url:"/api/face/",method:"get",params:t})}function h(t){return Object(o["default"])({url:"/gallery/doEdit",method:"post",data:t})}function b(t){return Object(o["default"])({url:"/gallery/doDelete",method:"post",data:t})}function y(t){return Object(o["default"])({url:"/api/img/",method:"post",data:t})}function _(t){return console.log(t),Object(o["default"])({url:"/api/category/get_filter_list/",method:"get",params:t})}function M(t){return console.log(t),Object(o["default"])({url:"/api/address/",method:"get",params:t})}},b88f:function(t,e,a){"use strict";a("464c")},bab3:function(t,e,a){t.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#21252b"}},e818:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgs-item"},[a("el-image",{staticStyle:{width:"200px",height:"200px"},attrs:{src:t.img.thumb,"preview-src-list":[t.img.src],fit:"cover"}})],1)},i=[],n={name:"ImgItem",props:{img:{type:Object,default:()=>({})}},data(){return{}},watch:{},methods:{}},l=n,s=(a("b88f"),a("2877")),c=Object(s["a"])(l,o,i,!1,null,null,null);e["default"]=c.exports},f663:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Map",{ref:"map",attrs:{addrs:t.addrs},on:{callbackComponent:t.callbackComponent}}),t.$store.state.map.isShowSwiper?a("ImgSlide",{ref:"imgswiper",attrs:{imgs:t.imgs}}):t._e()],1)},i=[],n=a("63a4"),l=a("0749"),s=a("970f"),c=(a("9d59"),{name:"PgAddress",components:{Map:n["default"],ImgSlide:l["default"]},data(){return{Img:[{position:[121.127403,30.173497],content:'"<img src="http://localhost:8000/media/CACHE/images/blue/img/2021/02/09/IMG_20210209_160111/833e2409837910a3f0c5892336f16d16.jpg" style="width: 80px; " />"',offset:[-15,-35],offsetText:[35,-58],label:{content:"11",offset:[10,10]},text:'<div style="width: 60px; font-size: 20px; color: #ff0000; text-align: center;line-height: 50px; height: 60px;">20</div>'}],imgs:[],addrs:[],addrQueryForm:{search:"",id:"",is_located:!0,longitude__range:"",latitude__range:"",country__contains:"",province__contains:"",city__contains:"",district__contains:"",location__contains:"",c_back:"",address__city:""}}},computed:{},watch:{},beforeMount(){},methods:{callbackComponent(t){t.function&&this[t.function](t.data)},loadMap(t){this.fetchAddress()},loadImg(t){this.fetchImg()},async fetchAddress(){var t=this.$store.state.map.addrQueryForm;const{data:e,totalCnt:a}=await Object(s["getAddress"])(t);console.log("fetchAddress result:",e,a),this.addrs=e},async fetchImg(){var t=this.$store.state.img.queryForm;console.log("queryForm is: %o",t);const{data:e,totalCnt:a}=await Object(s["getImg"])(t);this.imgs=e,this.totalCnt=a,console.log("totalCnt is: %d",this.totalCnt)},onImgSearch(t){console.log("recieve the queryForm info from the search component"),console.log(t)}}}),r=c,p=a("2877"),u=Object(p["a"])(r,o,i,!1,null,null,null);e["default"]=u.exports}}]);